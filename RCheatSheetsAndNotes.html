<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>R Cheat Sheets &amp; Notes</title>

<script src="site_libs/header-attrs-2.30/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><img src='Images/snlogo.png' alt='Statistics Notebook Logo' style='height: 30px; margin: -5px 0px'></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    R Help
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="RCommands.html">R Commands</a>
    </li>
    <li>
      <a href="RMarkdownHints.html">R Markdown Hints</a>
    </li>
    <li>
      <a href="RCheatSheetsAndNotes.html">R Cheatsheets &amp; Notes</a>
    </li>
    <li>
      <a href="DataSources.html">Data Sources</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Describing Data
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="GraphicalSummaries.html">Graphical Summaries</a>
    </li>
    <li>
      <a href="NumericalSummaries.html">Numerical Summaries</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Making Inference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="MakingInference.html">Making Inference</a>
    </li>
    <li>
      <a href="tTests.html">t Tests</a>
    </li>
    <li>
      <a href="WilcoxonTests.html">Wilcoxon Tests</a>
    </li>
    <li>
      <a href="Kruskal.html">Kruskal-Wallis Test</a>
    </li>
    <li>
      <a href="ANOVA.html">ANOVA</a>
    </li>
    <li>
      <a href="LinearRegression.html">Linear Regression</a>
    </li>
    <li>
      <a href="LogisticRegression.html">Logistic Regression</a>
    </li>
    <li>
      <a href="ChiSquaredTests.html">Chi Squared Tests</a>
    </li>
    <li>
      <a href="PermutationTests.html">Randomization</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Analyses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./Analyses/StudentHousing.html">Good Example Analysis</a>
    </li>
    <li>
      <a href="./Analyses/StudentHousingPOOR.html">Poor Example Analysis</a>
    </li>
    <li>
      <a href="./Analyses/Rent.html">Rent</a>
    </li>
    <li>
      <a href="./Analyses/Stephanie.html">Stephanie</a>
    </li>
    <li>
      <a href="./Analyses/t Tests/HighSchoolSeniors.html">High School Seniors</a>
    </li>
    <li>
      <a href="./Analyses/Wilcoxon Tests/RecallingWords.html">Recalling Words</a>
    </li>
    <li>
      <a href="./Analyses/ANOVA/MyTwoWayANOVA.html">My Two-way ANOVA</a>
    </li>
    <li>
      <a href="./Analyses/Kruskal-Wallis Test/Food.html">Food</a>
    </li>
    <li>
      <a href="./Analyses/Linear Regression/MySimpleLinearRegression.html">My Simple Linear Regression</a>
    </li>
    <li>
      <a href="./Analyses/Linear Regression/CarPrices.html">Car Prices</a>
    </li>
    <li>
      <a href="./Analyses/Logistic Regression/MyLogisticRegression.html">My Logistic Regression</a>
    </li>
    <li>
      <a href="./Analyses/Chi Squared Tests/MyChiSquaredTest.html">My Chi-sqaured Test</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">R Cheat Sheets &amp; Notes</h1>

</div>


<div id="cheat-sheets" class="section level2">
<h2>Cheat Sheets</h2>
<ul>
<li><p><a
href="https://sape.inf.usi.ch/quick-reference/ggplot2/colour">R
Colors</a></p></li>
<li><p><a
href="https://rstudio.github.io/cheatsheets/html/posit-team.html">Posit/RStudio
Cheat Sheets</a></p></li>
<li><p><a
href="https://iqss.github.io/dss-workshops/R/Rintro/base-r-cheat-sheet.pdf">R
Base Commands Cheat Sheet</a></p></li>
<li><p><a
href="https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts">Keyboard
Shortcuts</a></p></li>
<li><p><a
href="https://rstudio.github.io/cheatsheets/html/quarto.html">Quarto
Cheat Sheet</a></p></li>
<li><p><a
href="https://ctl.duke.edu/wp-content/uploads/2020/07/R_ggplot2_cheatsheet.pdf">ggplot2
Cheat Sheet</a></p></li>
</ul>
</div>
<div id="test-tips" class="section level2">
<h2>Test Tips</h2>
<p>Read output carefully so you understand what it’s saying! For
quartemile time (qsec) a lower number is better.<br> Read carefully so
you don’t miss info in the questions.<br> Make sure to check whether the
answer is positive or negative.<br> Make sure you put a zero before the
decimal in Canvas.<br> Make sure you hit Ctrl+enter For SSE, etc load
them into named variables, so it’s easier to work with them ie, SSR/SSTO
for R^2</p>
</div>
<div id="modules" class="section level2">
<h2>Modules</h2>
<div id="linear-regression" class="section level3">
<h3>01 Linear Regression</h3>
<p><span class="math inline">\(\beta_0, \beta_1, \sigma^2\)</span> are
for the group of dots. The <span class="math inline">\(i\)</span>’s are
for the individual. Since we can’t know the errors, we estimated them
with the residual.</p>
<p>Three main elements to the mathematical model of regression.</p>
<ul>
<li>The true, unobservable line of the estimated value of the population
(regression relation), provides the average Y-value-the expected value
of Y:<br> $ <em>{} = </em> $</li>
<li>The dots (regression plus error term), <span
class="math inline">\(Y_i\)</span>, <span
class="math inline">\(\epsilon_i\)</span> allows each individual <span
class="math inline">\(i\)</span> to deviate from the line. <span
class="math inline">\(Y_i = \underbrace{\beta_0 + \beta_1
X_i}_{E\{Y_i\}} + \underbrace{\epsilon_i}_\text{error term} \quad
\text{where} \ \epsilon_i\sim N(0,\sigma^2)\)</span></li>
<li>The estimated line (the line we get from the sample data) <span
class="math inline">\(\hat{Y}_i\)</span> is the estimated equation and
is interpreted as the estimated average <span
class="math inline">\(Y\)</span> for any <span
class="math inline">\(X\)</span> <span
class="math inline">\(\underbrace{\hat{Y}_i}_{\substack{\text{estimated
mean} \\ \text{y-value}}} = \underbrace{b_0 + b_1 X_i}_\text{estimated
regression equation}\)</span></li>
</ul>
<p><span class="math inline">\(E\{Y\}\)</span> true mean Y <br> <span
class="math inline">\(Y_i\)</span> the dots (add error term to above),
the regression model <br> <span class="math inline">\(\hat{Y}_i = b_0 +
b_1 X_i\)</span>, fitted line, lmObject<span
class="math inline">\(fitted.values &lt;br&gt;\)</span>b_0$ Estimated
intercept, b_0 &lt;- mean(Y) - b_1<em>mean(X) <br> <span
class="math inline">\(b_1\)</span> Estimated slope, b_1 &lt;- sum(
X</em>(Y - mean(Y)) ) / sum( (X - mean(X))^2 ) <br> <span
class="math inline">\(r_i\)</span> residual-eye, distance of dot from
line, lmObject’s residuals <br> <span
class="math inline">\(\sigma^2\)</span> variance of <span
class="math inline">\(\epsilon_i\)</span> <br></p>
<p>Standard error = estimated standard deviation = the residual standard
error in summary An increase of 1,000 lbs in the weight of a vehicle
results in a 5.34 mpg decrease in the average gas mileage of such
vehicles.</p>
<p>The interpretation of β1 is the amount of increase (or decrease) in
the average y-value, denoted E{Y}, per unit change in X. It is often
misunderstood to be the “average change in y” or just “the change in y”
but it is more correctly referred to as the “change in the average
y”.</p>
<div id="class-code-lm" class="section level4">
<h4>Class Code lm</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># most important for week 1</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>mylm <span class="ot">&lt;-</span> <span class="fu">lm</span>(Y <span class="sc">~</span> x, <span class="at">data=</span>airquality)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">summary</span>(mylm)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">predict</span>(mylm, <span class="fu">data.frame</span>(<span class="at">Wind=</span><span class="dv">19</span>))</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="co"># actual class code</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="fu">View</span>(airquality)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>?airquality</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="co"># Basics</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="fu">library</span>(mosaic) <span class="co">#favstats</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="fu">favstats</span>(airquality<span class="sc">$</span>Temp)</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="fu">mean</span>(airquality<span class="sc">$</span>Temp)</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="fu">sd</span>(airquality<span class="sc">$</span>Temp)</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="co"># Histograms</span></span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="fu">hist</span>(airquality<span class="sc">$</span>Temp)</span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="fu">ggplot</span>(airquality, <span class="fu">aes</span>(<span class="at">x=</span>Temp)) <span class="sc">+</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a><span class="fu">geom_histogram</span>(<span class="at">binwidth=</span><span class="dv">5</span>, <span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">color=</span><span class="st">&quot;skyblue4&quot;</span>) <span class="sc">+</span></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Maximum daily...&quot;</span>, <span class="at">subtitle =</span> <span class="st">&quot;May to September 1973&quot;</span>, </span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a>     <span class="at">x=</span><span class="st">&quot;Temperature in Degrees F&quot;</span>, <span class="at">y=</span><span class="st">&quot;Number of Days in Temperature Range&quot;</span>)</span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" tabindex="-1"></a><span class="co"># Boxplot </span></span>
<span id="cb1-26"><a href="#cb1-26" tabindex="-1"></a><span class="fu">boxplot</span>(Temp <span class="sc">~</span> Month, <span class="at">data=</span>airquality)</span>
<span id="cb1-27"><a href="#cb1-27" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" tabindex="-1"></a><span class="fu">ggplot</span>(airquality, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(Month), <span class="at">y=</span>Temp)) <span class="sc">+</span> </span>
<span id="cb1-29"><a href="#cb1-29" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span>
<span id="cb1-30"><a href="#cb1-30" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" tabindex="-1"></a><span class="co"># Scatterplot</span></span>
<span id="cb1-32"><a href="#cb1-32" tabindex="-1"></a>mylm <span class="ot">&lt;-</span> <span class="fu">lm</span>(Temp <span class="sc">~</span> Wind, <span class="at">data=</span>airquality)</span>
<span id="cb1-33"><a href="#cb1-33" tabindex="-1"></a><span class="fu">summary</span>(mylm)</span>
<span id="cb1-34"><a href="#cb1-34" tabindex="-1"></a><span class="fu">predict</span>(mylm, <span class="fu">data.frame</span>(<span class="at">Wind=</span><span class="dv">19</span>))</span>
<span id="cb1-35"><a href="#cb1-35" tabindex="-1"></a></span>
<span id="cb1-36"><a href="#cb1-36" tabindex="-1"></a><span class="fu">ggplot</span>(airquality, <span class="fu">aes</span>(<span class="at">x=</span>Wind, <span class="at">y=</span>Temp)) <span class="sc">+</span> </span>
<span id="cb1-37"><a href="#cb1-37" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb1-38"><a href="#cb1-38" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span>F, <span class="at">formula=</span>y<span class="sc">~</span>x)</span>
<span id="cb1-39"><a href="#cb1-39" tabindex="-1"></a></span>
<span id="cb1-40"><a href="#cb1-40" tabindex="-1"></a><span class="fu">favstats</span>(Temp <span class="sc">~</span> Month, <span class="at">data=</span>airquality)</span>
<span id="cb1-41"><a href="#cb1-41" tabindex="-1"></a><span class="fu">ggplot</span>(airquality, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(Month), <span class="at">y=</span>Temp)) <span class="sc">+</span> </span>
<span id="cb1-42"><a href="#cb1-42" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">color=</span><span class="st">&quot;skyblue3&quot;</span>) <span class="sc">+</span> </span>
<span id="cb1-43"><a href="#cb1-43" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Maximum daily temperature in degrees Fahrenheit at La Guardia Airport, NY, USA&quot;</span>,</span>
<span id="cb1-44"><a href="#cb1-44" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">&quot;May to September 1973&quot;</span>,</span>
<span id="cb1-45"><a href="#cb1-45" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Temperature in degrees F&quot;</span>, <span class="at">x=</span><span class="st">&quot;Month of the Year&quot;</span>)</span>
<span id="cb1-46"><a href="#cb1-46" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" tabindex="-1"></a></span>
<span id="cb1-48"><a href="#cb1-48" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-49"><a href="#cb1-49" tabindex="-1"></a></span>
<span id="cb1-50"><a href="#cb1-50" tabindex="-1"></a><span class="fu">ggplot</span>(airquality, <span class="fu">aes</span>(<span class="at">x=</span>Wind, <span class="at">y=</span>Temp)) <span class="sc">+</span> </span>
<span id="cb1-51"><a href="#cb1-51" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">pch=</span><span class="dv">21</span>, <span class="at">color=</span><span class="st">&quot;skyblue4&quot;</span>) <span class="sc">+</span> </span>
<span id="cb1-52"><a href="#cb1-52" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span>F, <span class="at">formula=</span>y<span class="sc">~</span>x, <span class="at">color=</span><span class="st">&quot;skyblue4&quot;</span>) <span class="sc">+</span> </span>
<span id="cb1-53"><a href="#cb1-53" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Max...&quot;</span>, <span class="at">subtitle=</span><span class="st">&quot;May...&quot;</span>, </span>
<span id="cb1-54"><a href="#cb1-54" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Temp...&quot;</span>, <span class="at">x=</span><span class="st">&quot;Average...&quot;</span>)</span>
<span id="cb1-55"><a href="#cb1-55" tabindex="-1"></a></span>
<span id="cb1-56"><a href="#cb1-56" tabindex="-1"></a>mylm <span class="ot">&lt;-</span> <span class="fu">lm</span>(Temp <span class="sc">~</span> Wind, <span class="at">data=</span>airquality)</span>
<span id="cb1-57"><a href="#cb1-57" tabindex="-1"></a><span class="fu">summary</span>(mylm)</span>
<span id="cb1-58"><a href="#cb1-58" tabindex="-1"></a></span>
<span id="cb1-59"><a href="#cb1-59" tabindex="-1"></a></span>
<span id="cb1-60"><a href="#cb1-60" tabindex="-1"></a></span>
<span id="cb1-61"><a href="#cb1-61" tabindex="-1"></a></span>
<span id="cb1-62"><a href="#cb1-62" tabindex="-1"></a></span>
<span id="cb1-63"><a href="#cb1-63" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">101</span>) <span class="co">#Allows us to always get the same &quot;random&quot; sample</span></span>
<span id="cb1-65"><a href="#cb1-65" tabindex="-1"></a><span class="co">#Change to a new number to get a new sample</span></span>
<span id="cb1-66"><a href="#cb1-66" tabindex="-1"></a></span>
<span id="cb1-67"><a href="#cb1-67" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">153</span> <span class="co">#set the sample size</span></span>
<span id="cb1-68"><a href="#cb1-68" tabindex="-1"></a></span>
<span id="cb1-69"><a href="#cb1-69" tabindex="-1"></a>X_i <span class="ot">&lt;-</span> <span class="fu">runif</span>(n, <span class="dv">15</span>, <span class="dv">45</span>) <span class="co">#Gives n random values from a uniform distribution between 15 to 45.</span></span>
<span id="cb1-70"><a href="#cb1-70" tabindex="-1"></a></span>
<span id="cb1-71"><a href="#cb1-71" tabindex="-1"></a>beta0 <span class="ot">&lt;-</span> <span class="dv">89</span> <span class="co">#Our choice for the y-intercept. </span></span>
<span id="cb1-72"><a href="#cb1-72" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" tabindex="-1"></a>beta1 <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fl">1.25</span> <span class="co">#Our choice for the slope. </span></span>
<span id="cb1-74"><a href="#cb1-74" tabindex="-1"></a></span>
<span id="cb1-75"><a href="#cb1-75" tabindex="-1"></a>sigma <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co">#Our choice for the std. deviation of the error terms.</span></span>
<span id="cb1-76"><a href="#cb1-76" tabindex="-1"></a></span>
<span id="cb1-77"><a href="#cb1-77" tabindex="-1"></a>epsilon_i <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, sigma) <span class="co">#Gives n random values from a normal distribution with mean = 0, st. dev. = sigma.</span></span>
<span id="cb1-78"><a href="#cb1-78" tabindex="-1"></a></span>
<span id="cb1-79"><a href="#cb1-79" tabindex="-1"></a>Y_i <span class="ot">&lt;-</span> beta0 <span class="sc">+</span> beta1<span class="sc">*</span>X_i <span class="sc">+</span> epsilon_i <span class="co">#Create Y using the normal error regression model</span></span>
<span id="cb1-80"><a href="#cb1-80" tabindex="-1"></a></span>
<span id="cb1-81"><a href="#cb1-81" tabindex="-1"></a>fabData <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">y=</span>Y_i, <span class="at">x=</span>X_i) <span class="co">#Store the data as data</span></span>
<span id="cb1-82"><a href="#cb1-82" tabindex="-1"></a></span>
<span id="cb1-83"><a href="#cb1-83" tabindex="-1"></a><span class="fu">View</span>(fabData) </span>
<span id="cb1-84"><a href="#cb1-84" tabindex="-1"></a></span>
<span id="cb1-85"><a href="#cb1-85" tabindex="-1"></a><span class="co">#In the real world, we begin with data (like fabData) and try to recover the model that (we assume) was used to created it.</span></span>
<span id="cb1-86"><a href="#cb1-86" tabindex="-1"></a></span>
<span id="cb1-87"><a href="#cb1-87" tabindex="-1"></a>fab.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data=</span>fabData) <span class="co">#Fit an estimated regression model to the fabData.</span></span>
<span id="cb1-88"><a href="#cb1-88" tabindex="-1"></a></span>
<span id="cb1-89"><a href="#cb1-89" tabindex="-1"></a><span class="fu">summary</span>(fab.lm) <span class="co">#Summarize your model. </span></span>
<span id="cb1-90"><a href="#cb1-90" tabindex="-1"></a></span>
<span id="cb1-91"><a href="#cb1-91" tabindex="-1"></a><span class="fu">plot</span>(y <span class="sc">~</span> x, <span class="at">data=</span>fabData, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">100</span>)) <span class="co">#Plot the data.</span></span>
<span id="cb1-92"><a href="#cb1-92" tabindex="-1"></a></span>
<span id="cb1-93"><a href="#cb1-93" tabindex="-1"></a><span class="fu">abline</span>(fab.lm) <span class="co">#Add the estimated regression line to your plot.</span></span>
<span id="cb1-94"><a href="#cb1-94" tabindex="-1"></a></span>
<span id="cb1-95"><a href="#cb1-95" tabindex="-1"></a><span class="co"># Now for something you can&#39;t do in real life... but since we created the data...</span></span>
<span id="cb1-96"><a href="#cb1-96" tabindex="-1"></a></span>
<span id="cb1-97"><a href="#cb1-97" tabindex="-1"></a><span class="fu">abline</span>(beta0, beta1, <span class="at">lty=</span><span class="dv">2</span>) <span class="co">#Add the true regression line to your plot using a dashed line (lty=2). </span></span>
<span id="cb1-98"><a href="#cb1-98" tabindex="-1"></a></span>
<span id="cb1-99"><a href="#cb1-99" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="at">legend=</span><span class="fu">c</span>(<span class="st">&quot;True Line&quot;</span>, <span class="st">&quot;Estimated Line&quot;</span>), <span class="at">lty=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>), <span class="at">bty=</span><span class="st">&quot;n&quot;</span>) <span class="co">#Add a legend to your plot specifying which line is which.</span></span></code></pre></div>
</div>
<div id="quizzes-lm" class="section level4">
<h4>Quizzes lm</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Assessment Quiz</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co"># 1)</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">#  library(car), View(Davis), ?Davis</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co"># Reduce the data to just the data for the males. Then perform a regression with weight as the response variable and height as the explanatory variable.</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co"># Which of the following provides the estimated average weight of males that are 180 cm tall?</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>dav.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(weight <span class="sc">~</span> height, <span class="at">data=</span><span class="fu">subset</span>(Davis, sex<span class="sc">==</span><span class="st">&quot;M&quot;</span>))</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="fu">predict</span>(dav.lm, <span class="fu">data.frame</span>(<span class="at">height=</span><span class="dv">180</span>))</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="co"># 2) </span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="co"># View(USArrests),  ?USArrests</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="co"># Perform a regression using this data that explains the average number of murder arrests in cities (per 100,000 in 1973) using the number of assault arrests (per 100,000) in a city.</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="co"># Select the answer that provides the correct estimate of B1 in the formula:for the USArrests regression described above.</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="fu">lm</span>(Murder <span class="sc">~</span> Assault, <span class="at">data =</span> USArrests) <span class="co"># Choose the assault estimate</span></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="co">#3)</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="co"># Which of the following statements is a correct statement about the graphic shown below?</span></span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="co"># Note: the &quot;Line of Equality&quot; shows where the line would need to be if the reported heights were equal (on average) to the actual measured heights. Dots that fall on this line show men that knew their actual height before they were officially measure</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="co"># 3 Answer (note image shows estimated line getting closer to the line of equality as heights increase)</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="co"># The average actual height gets closer to the reported height for taller men, while shorter men seem more likely to under-report their height, on average.</span></span></code></pre></div>
<p><br></p>
</div>
</div>
<div id="rimse" class="section level3">
<h3>02 ri…MSE</h3>
<p>Lots of notes: 425 Analysis/Residuals.qmd or RCheatSheetsbroken (next
to this one)</p>
<div id="class-code-ri" class="section level4">
<h4>Class Code ri</h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># most important</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>ri <span class="ot">&lt;-</span> mylm<span class="sc">$</span>residuals</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>sse <span class="ot">&lt;-</span> <span class="fu">sum</span>(mylm<span class="sc">$</span>res<span class="sc">^</span><span class="dv">2</span> ) <span class="co"># SSE is the unexplained variability</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>ssr <span class="ot">&lt;-</span> <span class="fu">sum</span>( (mylm<span class="sc">$</span>fit <span class="sc">-</span> <span class="fu">mean</span>(data<span class="sc">$</span>Y))<span class="sc">^</span><span class="dv">2</span>) <span class="co"># SSR is the explained variablility</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>ssto <span class="ot">&lt;-</span> <span class="fu">sum</span>((data<span class="sc">$</span>Y <span class="sc">-</span> <span class="fu">mean</span>(data<span class="sc">$</span>Y))<span class="sc">^</span><span class="dv">2</span>) <span class="co"># SSTO, variability from ybar</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>r2 <span class="ot">&lt;-</span>ssr<span class="sc">/</span>ssto <span class="co"># R2 is the ration betwee explanation and total SSR/SSTO</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="fu">sqrt</span>(r2) <span class="co"># r is square root of r^2</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co"># how to index dataset</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>cars[<span class="dv">23</span>, ] <span class="co"># row</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>cars.lm<span class="sc">$</span>residuals[<span class="dv">23</span>] <span class="co"># corresponding residual</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>cars<span class="sc">$</span>dist[<span class="dv">23</span>] <span class="sc">-</span> cars.lm<span class="sc">$</span>fitted.values[<span class="dv">23</span>] <span class="co">#alt to calc single residual</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="do">###</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="co"># Monday</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>cars2 <span class="ot">&lt;-</span> cars[<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>, <span class="dv">10</span>), ]</span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="fu">View</span>(cars2)</span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a>carslm <span class="ot">&lt;-</span> <span class="fu">lm</span>(dist <span class="sc">~</span> speed, <span class="at">data=</span>cars2)</span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a><span class="fu">summary</span>(carslm)</span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a><span class="fu">predict</span>(carslm, <span class="fu">data.frame</span>(<span class="at">speed=</span><span class="fl">17.5</span>))</span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a><span class="co"># add line segments</span></span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a><span class="fu">ggplot</span>(cars2, <span class="fu">aes</span>(<span class="at">x=</span>speed, <span class="at">y=</span>dist)) <span class="sc">+</span> </span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb3-28"><a href="#cb3-28" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span>F, <span class="at">formula=</span>y<span class="sc">~</span>x) <span class="sc">+</span> </span>
<span id="cb3-29"><a href="#cb3-29" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fl">17.5</span>, <span class="at">y=</span><span class="fl">45.297</span>), <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">cex=</span><span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb3-30"><a href="#cb3-30" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fl">17.5</span>, <span class="at">y=</span><span class="dv">50</span>), <span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="at">cex=</span><span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb3-31"><a href="#cb3-31" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fl">17.5</span>, <span class="at">xend=</span><span class="fl">17.5</span>, <span class="at">y=</span><span class="fl">45.297</span>, <span class="at">yend=</span><span class="dv">50</span>))</span>
<span id="cb3-32"><a href="#cb3-32" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" tabindex="-1"></a><span class="co"># add squares</span></span>
<span id="cb3-35"><a href="#cb3-35" tabindex="-1"></a><span class="fu">ggplot</span>(cars2, <span class="fu">aes</span>(<span class="at">x=</span>speed, <span class="at">y=</span>dist)) <span class="sc">+</span> </span>
<span id="cb3-36"><a href="#cb3-36" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb3-37"><a href="#cb3-37" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span>F, <span class="at">formula=</span>y<span class="sc">~</span>x) <span class="sc">+</span> </span>
<span id="cb3-38"><a href="#cb3-38" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fl">17.5</span>, <span class="at">y=</span><span class="fl">45.297</span>), <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">cex=</span><span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb3-39"><a href="#cb3-39" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fl">17.5</span>, <span class="at">y=</span><span class="dv">50</span>), <span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="at">cex=</span><span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb3-40"><a href="#cb3-40" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin=</span><span class="fl">17.5</span>, <span class="at">xmax=</span><span class="fl">17.5+.65</span>, <span class="at">ymin=</span><span class="fl">45.297</span>, <span class="at">ymax=</span><span class="dv">50</span>), <span class="at">alpha=</span><span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb3-41"><a href="#cb3-41" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin=</span>speed, <span class="at">xmax=</span>speed<span class="sc">+</span>carslm<span class="sc">$</span>residuals<span class="sc">*</span>.<span class="dv">15</span>, <span class="at">ymin=</span>dist, <span class="at">ymax=</span>carslm<span class="sc">$</span>fitted.values), <span class="at">alpha=</span><span class="fl">0.1</span>, <span class="at">fill=</span><span class="st">&quot;blue&quot;</span>)</span>
<span id="cb3-42"><a href="#cb3-42" tabindex="-1"></a></span>
<span id="cb3-43"><a href="#cb3-43" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;plotly&quot;</span>)</span>
<span id="cb3-44"><a href="#cb3-44" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb3-45"><a href="#cb3-45" tabindex="-1"></a></span>
<span id="cb3-46"><a href="#cb3-46" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">15</span>, <span class="dv">2</span>, <span class="dv">29</span>, <span class="dv">35</span>, <span class="dv">24</span>, <span class="dv">25</span>, <span class="dv">39</span>) </span>
<span id="cb3-47"><a href="#cb3-47" tabindex="-1"></a><span class="fu">sum</span>(x)</span>
<span id="cb3-48"><a href="#cb3-48" tabindex="-1"></a><span class="fu">sum</span>( (<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)<span class="sc">^</span><span class="dv">2</span> ) </span>
<span id="cb3-49"><a href="#cb3-49" tabindex="-1"></a><span class="fu">sum</span>(x<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb3-50"><a href="#cb3-50" tabindex="-1"></a>mn <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb3-51"><a href="#cb3-51" tabindex="-1"></a><span class="fu">var</span>(x)</span>
<span id="cb3-52"><a href="#cb3-52" tabindex="-1"></a>dist <span class="ot">&lt;-</span>(x<span class="sc">-</span>mn)</span>
<span id="cb3-53"><a href="#cb3-53" tabindex="-1"></a>dist</span>
<span id="cb3-54"><a href="#cb3-54" tabindex="-1"></a><span class="fu">sum</span>(dist<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">7</span></span>
<span id="cb3-55"><a href="#cb3-55" tabindex="-1"></a><span class="fu">mean</span>(cars<span class="sc">$</span>dist)</span>
<span id="cb3-56"><a href="#cb3-56" tabindex="-1"></a><span class="fu">sum</span>((<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb3-57"><a href="#cb3-57" tabindex="-1"></a></span>
<span id="cb3-58"><a href="#cb3-58" tabindex="-1"></a><span class="co"># Wednesday</span></span>
<span id="cb3-59"><a href="#cb3-59" tabindex="-1"></a>cars.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(dist <span class="sc">~</span> speed, <span class="at">data=</span>cars)</span>
<span id="cb3-60"><a href="#cb3-60" tabindex="-1"></a><span class="fu">summary</span>(cars.lm)</span>
<span id="cb3-61"><a href="#cb3-61" tabindex="-1"></a>cars2 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="fu">rbind</span>(cars, </span>
<span id="cb3-62"><a href="#cb3-62" tabindex="-1"></a>                     <span class="fu">cbind</span>(<span class="at">speed=</span><span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">50</span>), <span class="at">dist=</span>cars<span class="sc">$</span>dist),</span>
<span id="cb3-63"><a href="#cb3-63" tabindex="-1"></a>                     <span class="fu">cbind</span>(<span class="at">speed=</span>cars<span class="sc">$</span>speed, <span class="at">dist=</span>cars.lm<span class="sc">$</span>fitted.values)),</span>
<span id="cb3-64"><a href="#cb3-64" tabindex="-1"></a>               <span class="at">frame =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>), <span class="at">each=</span><span class="dv">50</span>))</span>
<span id="cb3-65"><a href="#cb3-65" tabindex="-1"></a><span class="fu">plot_ly</span>(cars2,</span>
<span id="cb3-66"><a href="#cb3-66" tabindex="-1"></a>        <span class="at">x =</span> <span class="sc">~</span>speed,</span>
<span id="cb3-67"><a href="#cb3-67" tabindex="-1"></a>        <span class="at">y =</span> <span class="sc">~</span>dist,</span>
<span id="cb3-68"><a href="#cb3-68" tabindex="-1"></a>        <span class="at">frame =</span> <span class="sc">~</span>frame,</span>
<span id="cb3-69"><a href="#cb3-69" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>,</span>
<span id="cb3-70"><a href="#cb3-70" tabindex="-1"></a>        <span class="at">mode =</span> <span class="st">&#39;markers&#39;</span>,</span>
<span id="cb3-71"><a href="#cb3-71" tabindex="-1"></a>        <span class="at">showlegend =</span> F,</span>
<span id="cb3-72"><a href="#cb3-72" tabindex="-1"></a>        <span class="at">marker=</span><span class="fu">list</span>(<span class="at">color=</span><span class="st">&quot;firebrick&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-73"><a href="#cb3-73" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title=</span><span class="st">&quot;Stopping Distance of 1920&#39;s Vehicles</span><span class="sc">\n</span><span class="st"> (cars data set)&quot;</span>,</span>
<span id="cb3-74"><a href="#cb3-74" tabindex="-1"></a>         <span class="at">xaxis=</span><span class="fu">list</span>(<span class="at">title=</span><span class="st">&quot;Vehicles Speed in mph (speed)&quot;</span>),</span>
<span id="cb3-75"><a href="#cb3-75" tabindex="-1"></a>         <span class="at">yaxis=</span><span class="fu">list</span>(<span class="at">title=</span><span class="st">&quot;Stopping Distance in Feet (dist)&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-76"><a href="#cb3-76" tabindex="-1"></a>  <span class="fu">add_segments</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">25</span>, <span class="at">y =</span> <span class="fu">mean</span>(cars<span class="sc">$</span>dist), <span class="at">yend =</span> <span class="fu">mean</span>(cars<span class="sc">$</span>dist), <span class="at">line=</span><span class="fu">list</span>(<span class="at">color=</span><span class="st">&quot;gray&quot;</span>, <span class="at">dash=</span><span class="st">&quot;dash&quot;</span>, <span class="at">width=</span><span class="dv">1</span>), <span class="at">inherit=</span><span class="cn">FALSE</span>, <span class="at">name=</span><span class="fu">TeX</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">bar{Y}&quot;</span>), <span class="at">showlegend=</span>T) <span class="sc">%&gt;%</span></span>
<span id="cb3-77"><a href="#cb3-77" tabindex="-1"></a>  <span class="fu">add_segments</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">25</span>, <span class="at">y =</span> <span class="fu">sum</span>(<span class="fu">coef</span>(cars.lm)<span class="sc">*</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>)), <span class="at">yend =</span> <span class="fu">sum</span>(<span class="fu">coef</span>(cars.lm)<span class="sc">*</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">25</span>)), <span class="at">line=</span><span class="fu">list</span>(<span class="at">color=</span><span class="st">&quot;darkgray&quot;</span>, <span class="at">width=</span><span class="dv">1</span>), <span class="at">inherit=</span><span class="cn">FALSE</span>, <span class="at">name=</span><span class="fu">TeX</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">hat{Y}&quot;</span>), <span class="at">showlegend=</span>T) <span class="sc">%&gt;%</span></span>
<span id="cb3-78"><a href="#cb3-78" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">mathjax =</span> <span class="st">&#39;cdn&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-79"><a href="#cb3-79" tabindex="-1"></a>  <span class="fu">animation_opts</span>(<span class="at">frame=</span><span class="dv">2000</span>, <span class="at">transition=</span><span class="dv">1000</span>, <span class="at">redraw=</span>T)</span>
<span id="cb3-80"><a href="#cb3-80" tabindex="-1"></a></span>
<span id="cb3-81"><a href="#cb3-81" tabindex="-1"></a><span class="co"># Friday</span></span>
<span id="cb3-82"><a href="#cb3-82" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-83"><a href="#cb3-83" tabindex="-1"></a><span class="fu">View</span>(diamonds)</span>
<span id="cb3-84"><a href="#cb3-84" tabindex="-1"></a><span class="fu">plot</span>(price <span class="sc">~</span> carat, <span class="at">data=</span>diamonds)</span>
<span id="cb3-85"><a href="#cb3-85" tabindex="-1"></a></span>
<span id="cb3-86"><a href="#cb3-86" tabindex="-1"></a>diamonds.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(price <span class="sc">~</span> carat, <span class="at">data=</span>diamonds)</span>
<span id="cb3-87"><a href="#cb3-87" tabindex="-1"></a><span class="fu">summary</span>(diamonds.lm)</span>
<span id="cb3-88"><a href="#cb3-88" tabindex="-1"></a></span>
<span id="cb3-89"><a href="#cb3-89" tabindex="-1"></a><span class="fu">abline</span>(diamonds.lm, <span class="at">col=</span><span class="st">&quot;green&quot;</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb3-90"><a href="#cb3-90" tabindex="-1"></a></span>
<span id="cb3-91"><a href="#cb3-91" tabindex="-1"></a><span class="fu">plot</span>(dist <span class="sc">~</span> speed, <span class="at">data=</span>cars)</span>
<span id="cb3-92"><a href="#cb3-92" tabindex="-1"></a>cars.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(dist <span class="sc">~</span> speed, <span class="at">data=</span>cars)</span>
<span id="cb3-93"><a href="#cb3-93" tabindex="-1"></a><span class="fu">summary</span>(cars.lm)</span>
<span id="cb3-94"><a href="#cb3-94" tabindex="-1"></a><span class="fu">abline</span>(cars.lm)</span>
<span id="cb3-95"><a href="#cb3-95" tabindex="-1"></a><span class="fu">points</span>(dist <span class="sc">~</span> speed, <span class="at">data=</span>cars[<span class="dv">23</span>,], <span class="at">col=</span><span class="st">&quot;orange&quot;</span>, <span class="at">pch=</span><span class="dv">16</span>)</span></code></pre></div>
</div>
<div id="quizzes-ri" class="section level4">
<h4>Quizzes ri</h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Mobius</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co"># wt</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>mtwt.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg<span class="sc">~</span>wt, mtcars)</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="fu">summary</span>(mtwt.lm)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">y=</span>mpg, <span class="at">x=</span>wt)) <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span>F, <span class="at">forumula=</span>y<span class="sc">~</span>x)</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co"># SSE is the unexplained variability</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co"># sum( lmObject$res^2 )</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="fu">sum</span>(mtwt.lm<span class="sc">$</span>res<span class="sc">^</span><span class="dv">2</span> )</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co"># SSR is the explained variablility</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co"># sum( (lmObject$fit - mean(YourData$Y))^2 )</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>(mtwt.ssr <span class="ot">&lt;-</span> <span class="fu">sum</span>( (mtwt.lm<span class="sc">$</span>fit <span class="sc">-</span> <span class="fu">mean</span>(mtcars<span class="sc">$</span>mpg))<span class="sc">^</span><span class="dv">2</span> ))</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="co"># SSTO</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="co">#sum( (YourData$Y - mean(YourData$Y))^2 )</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a>(mtwt.ssto <span class="ot">&lt;-</span> <span class="fu">sum</span>( (mtcars<span class="sc">$</span>mpg <span class="sc">-</span> <span class="fu">mean</span>(mtcars<span class="sc">$</span>mpg))<span class="sc">^</span><span class="dv">2</span> ))</span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="co"># R2 is the ration between explanation and total SSR/SSTO</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a>(wtr2 <span class="ot">&lt;-</span>mtwt.ssr<span class="sc">/</span>mtwt.ssto)</span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a><span class="co"># r is square root of r^2</span></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a><span class="fu">sqrt</span>(wtr2)</span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a></span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a><span class="fu">predict</span>(mtwt.lm, <span class="fu">data.frame</span>(<span class="at">wt=</span><span class="dv">3</span><span class="sc">*</span><span class="dv">365</span>))</span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a></span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a><span class="fu">plot</span>(mtwt.lm, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a><span class="fu">plot</span>(mtwt.lm<span class="sc">$</span>residuals)</span>
<span id="cb4-35"><a href="#cb4-35" tabindex="-1"></a></span>
<span id="cb4-36"><a href="#cb4-36" tabindex="-1"></a></span>
<span id="cb4-37"><a href="#cb4-37" tabindex="-1"></a><span class="co"># cyl</span></span>
<span id="cb4-38"><a href="#cb4-38" tabindex="-1"></a><span class="fu">View</span>(mtcars)</span>
<span id="cb4-39"><a href="#cb4-39" tabindex="-1"></a>mtcyl.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg<span class="sc">~</span>cyl, mtcars)</span>
<span id="cb4-40"><a href="#cb4-40" tabindex="-1"></a><span class="fu">summary</span>(mtcyl.lm)</span>
<span id="cb4-41"><a href="#cb4-41" tabindex="-1"></a><span class="fu">mean</span>(mtcars<span class="sc">$</span>mpg)</span>
<span id="cb4-42"><a href="#cb4-42" tabindex="-1"></a></span>
<span id="cb4-43"><a href="#cb4-43" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">y=</span>mpg, <span class="at">x=</span>cyl)) <span class="sc">+</span></span>
<span id="cb4-44"><a href="#cb4-44" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb4-45"><a href="#cb4-45" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span>F, <span class="at">forumula=</span>y<span class="sc">~</span>x)</span>
<span id="cb4-46"><a href="#cb4-46" tabindex="-1"></a></span>
<span id="cb4-47"><a href="#cb4-47" tabindex="-1"></a><span class="co"># SSE is the unexplained variability</span></span>
<span id="cb4-48"><a href="#cb4-48" tabindex="-1"></a><span class="co"># sum( lmObject$res^2 )</span></span>
<span id="cb4-49"><a href="#cb4-49" tabindex="-1"></a><span class="fu">sum</span>(mtcyl.lm<span class="sc">$</span>res<span class="sc">^</span><span class="dv">2</span> )</span>
<span id="cb4-50"><a href="#cb4-50" tabindex="-1"></a></span>
<span id="cb4-51"><a href="#cb4-51" tabindex="-1"></a><span class="co"># SSR is the explained variablility</span></span>
<span id="cb4-52"><a href="#cb4-52" tabindex="-1"></a><span class="co"># sum( (lmObject$fit - mean(YourData$Y))^2 )</span></span>
<span id="cb4-53"><a href="#cb4-53" tabindex="-1"></a>(mtcyl.ssr <span class="ot">&lt;-</span> <span class="fu">sum</span>( (mtcyl.lm<span class="sc">$</span>fit <span class="sc">-</span> <span class="fu">mean</span>(mtcars<span class="sc">$</span>mpg))<span class="sc">^</span><span class="dv">2</span> ))</span>
<span id="cb4-54"><a href="#cb4-54" tabindex="-1"></a></span>
<span id="cb4-55"><a href="#cb4-55" tabindex="-1"></a><span class="co"># SSTO</span></span>
<span id="cb4-56"><a href="#cb4-56" tabindex="-1"></a><span class="co">#sum( (YourData$Y - mean(YourData$Y))^2 )</span></span>
<span id="cb4-57"><a href="#cb4-57" tabindex="-1"></a>(mtcyl.ssto <span class="ot">&lt;-</span> <span class="fu">sum</span>( (mtcars<span class="sc">$</span>mpg <span class="sc">-</span> <span class="fu">mean</span>(mtcars<span class="sc">$</span>mpg))<span class="sc">^</span><span class="dv">2</span> ))</span>
<span id="cb4-58"><a href="#cb4-58" tabindex="-1"></a></span>
<span id="cb4-59"><a href="#cb4-59" tabindex="-1"></a></span>
<span id="cb4-60"><a href="#cb4-60" tabindex="-1"></a><span class="co"># R2 is the ration between explanation and total SSR/SSTO</span></span>
<span id="cb4-61"><a href="#cb4-61" tabindex="-1"></a>(cylr2 <span class="ot">&lt;-</span>mtcyl.ssr<span class="sc">/</span>mtcyl.ssto)</span>
<span id="cb4-62"><a href="#cb4-62" tabindex="-1"></a></span>
<span id="cb4-63"><a href="#cb4-63" tabindex="-1"></a></span>
<span id="cb4-64"><a href="#cb4-64" tabindex="-1"></a><span class="co"># r is square root of r^2</span></span>
<span id="cb4-65"><a href="#cb4-65" tabindex="-1"></a><span class="fu">sqrt</span>(cylr2)</span>
<span id="cb4-66"><a href="#cb4-66" tabindex="-1"></a></span>
<span id="cb4-67"><a href="#cb4-67" tabindex="-1"></a><span class="fu">predict</span>(mtcyl.lm, <span class="fu">data.frame</span>(<span class="at">cyl=</span><span class="dv">3</span><span class="sc">*</span><span class="dv">365</span>))</span>
<span id="cb4-68"><a href="#cb4-68" tabindex="-1"></a></span>
<span id="cb4-69"><a href="#cb4-69" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb4-70"><a href="#cb4-70" tabindex="-1"></a><span class="fu">plot</span>(mtcyl.lm, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span>
<span id="cb4-71"><a href="#cb4-71" tabindex="-1"></a><span class="fu">plot</span>(mtcyl.lm<span class="sc">$</span>residuals)</span>
<span id="cb4-72"><a href="#cb4-72" tabindex="-1"></a></span>
<span id="cb4-73"><a href="#cb4-73" tabindex="-1"></a></span>
<span id="cb4-74"><a href="#cb4-74" tabindex="-1"></a><span class="co"># Assessment: Residuals, Sums of Squares, and R squared</span></span>
<span id="cb4-75"><a href="#cb4-75" tabindex="-1"></a><span class="co"># 1) A regression was performed for a sample of n = 5 data points.</span></span>
<span id="cb4-76"><a href="#cb4-76" tabindex="-1"></a><span class="co"># The y-values of the regression are: 3.78, 6.08, 6.65, 9.25, and 9.92.</span></span>
<span id="cb4-77"><a href="#cb4-77" tabindex="-1"></a><span class="co"># The residuals from the regression are: -0.266, 0.489, -0.486, 0.569, and -0.306.</span></span>
<span id="cb4-78"><a href="#cb4-78" tabindex="-1"></a><span class="co"># What is the R-squared value for this regression?</span></span>
<span id="cb4-79"><a href="#cb4-79" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">3.78</span>, <span class="fl">6.08</span>, <span class="fl">6.65</span>, <span class="fl">9.25</span>, <span class="fl">9.92</span>)</span>
<span id="cb4-80"><a href="#cb4-80" tabindex="-1"></a></span>
<span id="cb4-81"><a href="#cb4-81" tabindex="-1"></a>SSTO <span class="ot">&lt;-</span> <span class="fu">sum</span>( (y <span class="sc">-</span> <span class="fu">mean</span>(y))<span class="sc">^</span><span class="dv">2</span> )</span>
<span id="cb4-82"><a href="#cb4-82" tabindex="-1"></a><span class="co">#SSTO = 24.83372</span></span>
<span id="cb4-83"><a href="#cb4-83" tabindex="-1"></a></span>
<span id="cb4-84"><a href="#cb4-84" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.266</span>, <span class="fl">0.489</span>, <span class="sc">-</span><span class="fl">0.486</span>, <span class="fl">0.569</span>, <span class="sc">-</span><span class="fl">0.306</span>)</span>
<span id="cb4-85"><a href="#cb4-85" tabindex="-1"></a>SSE <span class="ot">&lt;-</span> <span class="fu">sum</span>(res<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb4-86"><a href="#cb4-86" tabindex="-1"></a><span class="co">#SSE = 0.96347</span></span>
<span id="cb4-87"><a href="#cb4-87" tabindex="-1"></a></span>
<span id="cb4-88"><a href="#cb4-88" tabindex="-1"></a>R2 <span class="ot">=</span> <span class="dv">1</span> <span class="sc">-</span> SSE<span class="sc">/</span>SSTO</span>
<span id="cb4-89"><a href="#cb4-89" tabindex="-1"></a><span class="co">#R2 = 0.9612032</span></span>
<span id="cb4-90"><a href="#cb4-90" tabindex="-1"></a></span>
<span id="cb4-91"><a href="#cb4-91" tabindex="-1"></a><span class="co"># 2) This data can be used to show that the displacement of the engine (disp)</span></span>
<span id="cb4-92"><a href="#cb4-92" tabindex="-1"></a><span class="co"># is positively correlated with the weight of the vehicle (wt).</span></span>
<span id="cb4-93"><a href="#cb4-93" tabindex="-1"></a><span class="co"># Apparently, this means disp is the Y and wt is the x</span></span>
<span id="cb4-94"><a href="#cb4-94" tabindex="-1"></a><span class="co"># Don&#39;t use mylm unless you&#39;ve cleared everything or use something descriptive like clm for cars mylm</span></span>
<span id="cb4-95"><a href="#cb4-95" tabindex="-1"></a>mt.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(disp <span class="sc">~</span> wt, <span class="at">data=</span>mtcars)</span>
<span id="cb4-96"><a href="#cb4-96" tabindex="-1"></a><span class="fu">summary</span>(mt.lm)</span>
<span id="cb4-97"><a href="#cb4-97" tabindex="-1"></a><span class="co"># Multiple R-squared: 0.7885, Adjusted R-squared: 0.7815  &lt;- (multiple R-squared is R^2)</span></span>
<span id="cb4-98"><a href="#cb4-98" tabindex="-1"></a></span>
<span id="cb4-99"><a href="#cb4-99" tabindex="-1"></a><span class="co"># 3)</span></span>
<span id="cb4-100"><a href="#cb4-100" tabindex="-1"></a><span class="co"># A certain statistics teacher at BYU-Idaho drives a 2001 Nissan Sentra that weighs</span></span>
<span id="cb4-101"><a href="#cb4-101" tabindex="-1"></a><span class="co"># approximately 2,700 lbs and currently gets only 21 mpg.</span></span>
<span id="cb4-102"><a href="#cb4-102" tabindex="-1"></a><span class="co"># Based on the regression you performed, how many mpg above or below average is this vehicle?</span></span>
<span id="cb4-103"><a href="#cb4-103" tabindex="-1"></a><span class="co">#   Perform a regression of mpg means mpg is the Y and wt is the x</span></span>
<span id="cb4-104"><a href="#cb4-104" tabindex="-1"></a>mt.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> wt, <span class="at">data=</span>mtcars) <span class="co">#perform the regression</span></span>
<span id="cb4-105"><a href="#cb4-105" tabindex="-1"></a><span class="fu">plot</span>(mpg <span class="sc">~</span> wt, <span class="at">data=</span>mtcars) <span class="co">#draw the regression (not needed, but nice)</span></span>
<span id="cb4-106"><a href="#cb4-106" tabindex="-1"></a><span class="fu">abline</span>(mt.lm) <span class="co">#add the regression line (not needed, but nice)</span></span>
<span id="cb4-107"><a href="#cb4-107" tabindex="-1"></a><span class="fu">points</span>(<span class="fl">2.7</span>, <span class="dv">21</span>, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="st">&quot;skyblue&quot;</span>) <span class="co">#add the Nissan Sentra value (not needed, but nice)</span></span>
<span id="cb4-108"><a href="#cb4-108" tabindex="-1"></a><span class="fu">predict</span>(mt.lm, <span class="fu">data.frame</span>(<span class="at">wt=</span><span class="fl">2.7</span>)) <span class="co">#get predicted value for Nissan Sentra</span></span>
<span id="cb4-109"><a href="#cb4-109" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb4-110"><a href="#cb4-110" tabindex="-1"></a><span class="fl">22.85505</span></span>
<span id="cb4-111"><a href="#cb4-111" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">c</span>(<span class="fl">2.7</span>, <span class="fl">2.7</span>), <span class="fu">c</span>(<span class="dv">21</span>, <span class="fl">22.85505</span>), <span class="at">col=</span><span class="st">&quot;skyblue&quot;</span>) <span class="co">#add residual line (not needed, but nice)</span></span>
<span id="cb4-112"><a href="#cb4-112" tabindex="-1"></a>myresidual <span class="ot">&lt;-</span> <span class="dv">21</span> <span class="sc">-</span> <span class="fl">22.85505</span> <span class="co">#calculate difference between Y and Y-hat</span></span>
<span id="cb4-113"><a href="#cb4-113" tabindex="-1"></a></span>
<span id="cb4-114"><a href="#cb4-114" tabindex="-1"></a><span class="sc">&gt;</span> myresidual</span>
<span id="cb4-115"><a href="#cb4-115" tabindex="-1"></a>[<span class="dv">1</span>] <span class="sc">-</span><span class="fl">1.85505</span></span></code></pre></div>
<p><br></p>
</div>
</div>
<div id="diagnostics" class="section level3">
<h3>03 Diagnostics</h3>
<p>par(mfrow=c(1,3)) plot(mylm, which = 1:2) plot(mylm$residuals)</p>
<p><br></p>
</div>
</div>
<div id="code-notes" class="section level2">
<h2>Code notes</h2>
<div id="generic" class="section level5">
<h5>Generic</h5>
<p>Ctrl + L to clear console Getwd()<br> Glimpse() to see the data and
it’s types (good for when ? Doesn’t work)<br> In rmd ctr shft c to
comment/uncomment<br> Echo = false means the code won’t show just
output<br> Double question marks tells you where<br> Don’t put install
in the script cause it’ll do it every time<br> Say no to saving
workspace instead save a script with everything.<br> Shortcut for pipe
is ctrl + shift + m<br></p>
</div>
<div id="graphics" class="section level5">
<h5>Graphics</h5>
<p>Notebook add links to rmd files (can also put line number)<br> P +
theme(text=element_text(size24))</p>
</div>
<div id="problems" class="section level5">
<h5>Problems</h5>
<p>Mismatched directories can sometimes cause you problems when you
knit.<br> Session&gt;Set Working Directory to Source file location<br>
NAs are contagious they will permeate your data, pass na.rm true to
remove the nas<br> Session &gt; restart R because he overwrote his
data<br> Clicking on broom cleans out all the data<br></p>
</div>
<div id="reminders" class="section level5">
<h5>Reminders</h5>
<p>Don’t do anything to the original data file make sure to assign it to
a new name!!!<br> Filter rows/select columns<br> Colnames() to see the
column names<br> Tibble() see code for names and first few rows<br>
Easier to do test questions in base R<br> Filter into a new data set
before summarizing<br></p>
<p><a id=" Code Notes"></a></p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
